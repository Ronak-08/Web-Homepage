function updateTime(){const e=document.getElementById("timeElement"),t=new Date;let n=t.getHours();const o=t.getMinutes(),a=`${n=(n%=12)||12}:${o<10?"0"+o:o}`;e.textContent=a}setInterval(updateTime,1e3),updateTime();const days=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],today=new Date,dayOfWeek=days[today.getDay()],dateOfMonth=today.getDate(),formattedDate=`${dayOfWeek} ${dateOfMonth}`;document.getElementById("currentDay").textContent=formattedDate;const apiKey="db5a5dd4233284f22f468c35dad5f8ff";async function getWeather(e){const t=`https://api.openweathermap.org/data/2.5/weather?q=${e}&appid=${apiKey}&units=metric`,n=await fetch(t),o=await n.json();if(200===o.cod){const e=o.name;updateWeatherInfo(e,Math.round(o.main.temp),o.weather[0].description,o.weather[0].icon),localStorage.setItem("savedCity",e)}else console.log("City not found. Please check the city name and try again.")}function updateWeatherInfo(e,t,n,o){document.getElementById("city-name").textContent=e,document.getElementById("temperature").textContent=`${t}Â°`,document.getElementById("description").textContent=n;const a=`https://openweathermap.org/img/wn/${o}@2x.png`;document.getElementById("weather-icon").src=a}function handleCitySearch(){const e=document.getElementById("city-input").value;e&&getWeather(e)}function showPopup(){document.getElementById("popup").style.display="flex"}function updateName(){var e=document.getElementById("newName").value;document.getElementById("name").textContent=e,localStorage.setItem("savedName",e),closePopup()}function closePopup(){document.getElementById("popup").style.display="none"}document.addEventListener("DOMContentLoaded",()=>{const e=localStorage.getItem("savedCity");e&&getWeather(e)}),window.onload=function(){var e=localStorage.getItem("savedName");e&&(document.getElementById("name").textContent=e)};const checkbox=document.getElementById("backgroundToggle");function setBackground(){document.documentElement.style.backgroundImage="url(https://picsum.photos/1920/1080/?random&blur)",document.documentElement.style.backgroundSize="cover"}function handleCheckboxChange(){checkbox.checked?(localStorage.setItem("backgroundToggle","checked"),setBackground()):(localStorage.removeItem("backgroundToggle"),document.body.style.backgroundImage="",document.body.style.backgroundColor="#121212")}function setColorAndStore(e){document.documentElement.style.setProperty("--accent",e),localStorage.setItem("selectedColor",e)}function setColorAndStor(e){document.documentElement.style.setProperty("--srcbar",e),localStorage.setItem("selectedColo",e)}function hexToRgba(e,t){e=e.replace(/^#/,"");let n=parseInt(e,16);return`rgba(${n>>16&255},${n>>8&255},${255&n},${t})`}function addLink(){const e=document.getElementById("urlInput").value,t=`https://www.google.com/s2/favicons?domain=${e}`,n=document.createElement("a");n.href=e,n.target="_blank",n.innerHTML=`<img src="${t}" alt="icon">`;const o=document.createElement("button");o.textContent="Delete",o.className="delete-button",o.onclick=function(){deleteLink(e)};const a=document.createElement("div");a.className="link-container",a.appendChild(n),a.appendChild(o),document.getElementById("iconsContainer").appendChild(a);const c=JSON.parse(localStorage.getItem("links"))||[];c.push({url:e}),localStorage.setItem("links",JSON.stringify(c)),document.getElementById("urlInput").value=""}function loadLinks(){const e=JSON.parse(localStorage.getItem("links"))||[],t=document.getElementById("iconsContainer");e.forEach(e=>{const n=`https://www.google.com/s2/favicons?domain=${e.url}`,o=document.createElement("a");o.href=e.url,o.target="_blank",o.innerHTML=`<img src="${n}" alt="icon">`;const a=document.createElement("button");a.textContent="Delete",a.className="delete-button",a.onclick=function(){deleteLink(e.url)};const c=document.createElement("div");c.className="link-container",c.appendChild(o),c.appendChild(a),t.appendChild(c)})}function deleteLink(e){const t=document.getElementById("iconsContainer"),n=t.getElementsByClassName("link-container");for(let o=0;o<n.length;o++){const a=n[o].getElementsByTagName("a")[0];if(a&&a.href===e){t.removeChild(n[o]);break}}let o=JSON.parse(localStorage.getItem("links"))||[];o=o.filter(t=>t.url!==e),localStorage.setItem("links",JSON.stringify(o))}"checked"===localStorage.getItem("backgroundToggle")&&(checkbox.checked=!0,setBackground()),checkbox.addEventListener("change",handleCheckboxChange),setInterval(()=>{checkbox.checked&&setBackground()},36e5),document.getElementById("colorPicker").addEventListener("input",function(){setColorAndStore(this.value)}),document.addEventListener("DOMContentLoaded",function(){let e=localStorage.getItem("selectedColor");e&&setColorAndStore(e)}),document.getElementById("colorPicker").addEventListener("input",function(){setColorAndStor(hexToRgba(this.value,.329))}),document.addEventListener("DOMContentLoaded",function(){let e=localStorage.getItem("selectedColo");e&&setColorAndStor(e)}),document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("toggle"),t=document.querySelector(".container"),n="true"===localStorage.getItem("newsDisabled");function o(e){t.style.display=e?"none":"flex"}e.checked=n,o(n),e.addEventListener("change",function(){var t=e.checked;localStorage.setItem("newsDisabled",t),o(t)})}),window.addEventListener("scroll",function(){var e=document.getElementById("searchContainer");window.pageYOffset>310?e.classList.add("sticky"):e.classList.remove("sticky")}),window.onload=loadLinks,document.getElementById("searchEngine").addEventListener("change",function(){document.getElementById("searchForm").action=this.value,document.getElementById("searchInput").placeholder=`Search on ${this.options[this.selectedIndex].text.trim()}...`}),document.getElementById("searchInput").addEventListener("keypress",function(e){"Enter"===e.key&&(e.preventDefault(),document.getElementById("searchForm").submit())});